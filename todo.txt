todo:

 * spännande! friendsFriends drar massa minne i ett stort nätverk..  märkligt?


 * kolla också i error reports - så vad som händer nu med 1.0.6 - köra statistiken som vanligt i guess

* fixa goa msn integrationen med ett java-lib
* "Unable to establish loopback connection" -> alliance verkar läcka sockets - finns info nedan
* ok..  verkar inte som att nya versionen fixade concurrentmod problemen för alla - det blir att slänga den där konstiga ui datamodellen och göra en grej i core - "ge mig listan på vänners vänner som jag kan bjuda in" - och använda untrusted friends istället - kommer gå hur fort som helt.
  fast samtidigt så verkar det enda concurrent felet vara:
  ooh concurrent modification när man kopplar sig mot stora nätverket och tar connect to all..  hela processen är jäkligt shaky.. det händer tusen saker samtidigt och det kommer upp tio olika dialoger
  det blir alltid: MainWindow.java:624 då
* när man tar delete på en vän så blir han kvar som "unknown" - rätt sunkigt..
* ens share size uppdateras šverallt fšrutom i listan till vŠnster. det Šr dŒligt fšr att det ser ut som att man inte delar ut nŒt i bšrjan (nŠr man just installerat och hŒller pŒ att indexera)
* bug: ändra inte ens eget namn när man får ens gamla namn från nån annan i nätverket
* höhö. går inte att hitta sig själv i listan när man har så jävla många online - gör klickbar länk av ens namn
* lägg till en donate dialog som kommer upp vid något klokt tillfälle
* fixa att kopplingen inte bombar när man tittar i deras share som är fetstor - har en förklaring om det nedan.
* väldigt stora shares tenderar till att bli corrupta - chatten försvinner också - Man kanske inte ska spara allt vid shutdown. det låter som är bra ide.
* nŠr nŒn kommer in so gšr att en ikon uppdateras verkar det inte uppdateras lŠngst ner

* bättre stöd för vista - settings ska ligga i my documents (eller snarare userkatalogen) - bra för alla OS, inklusive MAC
* ta in det som brian ville ha
* internationalisering - massa folk hade översatt om det gick..   tänk på detta. hade varit jävligt najs.  man får välja språk i runtime. najs.
* alliance ska tydligen ta fel NIC när det finns flera? Finns förklaring längre ner. sök på "10.x.x.x"
* lägg till setting för om nån är offline X dagar så ska han inte visas längre i listan. och defaulta till 200 eller nåt. vissa vill inte att folk ska försvinna.
* setting för max antal nedladdningsconnections per nedladdning
* I'll add support for following symlinks to the todo
* lägga in ett protokoll i windows för alliance:  alliance://invitationcode/filehash    så kan man skicka meddelanden till polare..  "Här är filen: alliance://wpijgsagjasgsag/slkgfslkfjsfj. Det är bara att installera alliance och klicka på länken så får du den!"  Blir inte bra om man länkar till massa med filer men om det är inte för många så är det najs som fan!
* wiki istället för gaml  dev corner
* stöd för dyndn namn i my ip. koslla hur detta fungerar. det är en riktigt klok och proffsig grej att ha - så kan ett litet nätverk överleva om alla har dynamisk ip
* lägg till advanced vy i friendslist. -- eftersom "via" grejjen fungerar dåligt kan den tas bort (kanske?) -- ratio, max up och max ner. roligt för tekniskare användare. Gör en kool ikon för den så man ser den. - eller välj vilka kolumner man visar per default - default ska nog vara name och ratio (och kanske share size?)
* fixa koolt UI för uploads också. så det är kul att kolla på.  ha riktig historik för uploads - DET hade jag gillat - så jag kan se vad folk har laddat ner från mig. kalla fliken "statistics" och ha massa askool stats med den läcka diagramkomponenten. cpuanvänding, minnesanvändning, up/ner hastighet, och koola stats för uploads
* dubbelklick på nerladdad fil öppnar den
* command-line start. Linuxanvändare intresserade av det.
* feedback formulär
* användare startar alliance efter dom tryck på krysset för att trayikonen försvinner. kanske försöka ha kvar trayikonen medans alliance startar om? Det borde gå att fixa..  Antingen värsta hacket där man inte tar bort trayikonen, fast få dår man dubbel ikon när den väl startat. Alt. 2 är att vänta med att döda pocessen tills man ser att den nya alliance snurrar.
* posta i forum om att jag behöver en download-bundle för installation i linux
* filesize i view share
* limit på antal uploads
* enligt en artikel jag läste ska det räcka med en io diskbuffer på 64kb - för det är det XP har - vista kan ha större
* In the options dialog, a way to set a short description or witty tagline next to your username in the My Network pane.  This is a "just for fun" item.



- When scrolling up to read old chat, a new chat message causes the scroll bar to jump to the bottom when a new message is typed.  When many new messages are coming in, it is impossible to read old chat and "catch up".  It would be great if the scroll bar stayed where it is moved to.
- On Win XP at Alliance startup, there is a flurry of system tray bubbles for missed chat messages while you were offline.  Not a huge deal though.
- Preserve newlines in chat when pasting text from another program like a browser or Notepad.  Right now they are concatenated into a single line when pasting.
- Ability to turn off/on timestamps in chat, some users don't like timestamps but others do.

    * gŒ igenom faq och getting started - getting started ska vara riktad till folk som vill starta ett nytt nŠtverk
    * sett upp forum: http://alliancetalk.proboards91.com/index.cgi
    * SEO
    * tŠnk igenom standardfallet: en noob blir inbjuden. hur gŒr man vidare dŠrifrŒn till att han bjuder in sina msn-vŠnner?
        optimalt:
            han fŒr en lŠnk frŒn en kompis. klicka pŒ den fšr att gŒ med i mitt nŠtverk
            han klickar pŒ lŠnken. alliance installeras utan att han behšver gšra nŒgra val alls
            alliance startar och fšrsšker direkt koppla upp sig mot hans kompis. det bšr gŒ bra eftersom connectionkoden validerades med port test nŠr den skapades
            efter att kopplingen gjorts sŠger alliance att det Šr rekommenderat att koppla upp sig mot hans kompisar
            anvŠndaren gšr detta och det trillar in en del nya anvŠndare - UTAN att han fŒr nŒgra meddelanden om det
            vid <nŠr man laddat ner mer Šn 10mb och tvŒ filer och har just pŒbšrjat en nedladdning som kommer att ta mer Šn fem minuter> berŠttar alliance att om man bjuder in fler vŠnner kan man ladda ner mer saker och man kan ladda ner snabbare
            anvŠndaren vŠljer att bjuda in kompisar. om inte sŒ fortsŠtter alliance nagga typ en gŒng i veckan tills man bjudit in nŒn
            wizarden kommer upp. anvŠndaren kan bjuda in msn-vŠnner, bjuda in igenom att skicka mail eller bjuda in manuellt igenom att skicka en lŠnk till en kompis pŒ valfritt sŠtt
            anvŠndaren uppmuntras till att bjuda in msn vŠnner och gšr detta
            anvŠndaren drar in ett gŠng msnvŠnner och vŠljer send. goto 10



************************************************************************************************************************
lite gamla anteckningar om minnesanvändinng:
hmm direct/nondirect har bara en påverkan. minnesåtgång. Vet inte om det gör nån skillnad. Egentligen borde PacketConnection buffern fixas till..?
40 användare online:
non direct: 133 (Working set)
direct: 106
91 användare onlie:
non direct: 163 (working set)
************************************************************************************************************************
när man anger en invitation code kommer denna:
Award user with one invitation point
at:
java.lang.Exception
	at org.alliance.ui.UIBridge.trace(UIBridge.java:126)
	at org.alliance.core.CoreSubsystem.propagateTraceMessage(CoreSubsystem.java:391)
	at org.alliance.core.CoreSubsystem$2.print(CoreSubsystem.java:110)
	at com.stendahls.trace.Trace.print(Trace.java:21)
	at com.stendahls.trace.TraceChannel.info(TraceChannel.java:30)
	at com.stendahls.trace.TraceChannel.info(TraceChannel.java:39)
	at org.alliance.core.T.info(T.java:17)
	at org.alliance.core.node.FriendManager.addFriend(FriendManager.java:101)
	at org.alliance.core.comm.InvitationConnection.packetReceived(InvitationConnection.java:117)
	at org.alliance.core.comm.PacketConnection.received(PacketConnection.java:109)
	at org.alliance.core.crypto.cryptolayers.BufferedCryptoLayer.received(BufferedCryptoLayer.java:113)
	at org.alliance.core.comm.NetworkManager.received(NetworkManager.java:289)
	at org.alliance.core.comm.networklayers.tcpnio.TCPNIONetworkLayer.handleRead(TCPNIONetworkLayer.java:317)
	at org.alliance.core.comm.networklayers.tcpnio.TCPNIONetworkLayer.run(TCPNIONetworkLayer.java:184)
	at java.lang.Thread.run(Thread.java:619)
man ska ju inte få en poäng när man bara anger en invitation code!
************************************************************************************************************************
I've noticed a bug where if I'm having a bigger share, the connection of my friends to me drops immediately when the start browsing my filelist. Have to reestablish connection after it. Chat works fine.
1st scenario: me sharing 150.000+ files, friend sharing a lot less, ~50gb. I can download from him without a hassle, when he tries browsing he's dropped out. Tried with other friend, other computer/isp/location, same issue.
2nd scenario: started rehashing just one dir, at around 80gb shared my friend could download from me. Checked back later, when the 250gb (~55000 files) was finally hashed, got disconnected immediately.
************************************************************************************************************************
Support the development of Alliance  <-- dialogen kommer upp minst några veckor efter man har installerat Alliance
-----------------------------------
Alliance is and will always remain completely free. <- viktigt att sŠga, stina sa att hon skulle tro att hon var tvungen att betala om dialogen kommer upp utan detta

We, the developers of Alliance, believe in Alliance and work very
hard on making Alliance better. We spend our free time to work on Alliance.

Please show your support and donate a small amout to the cause of Alliance.
The more donations we received the more time we will spend on Alliance.

Donate now    //    Maybe later   //   Never donate  <-- maybe later ska nog inte vara med?
************************************************************************************************************************
jag har också ett tips på lite mer laidback ambient musik fast lite mer alien-inspirerad... kanske är intressant? http://open.spotify.com/user/pontusm/playlist/7oxqbHGCDA0GrVKmV9mSdG
maciek säger (13:42):
fan vad grymt spotify är asså. =)
Pontus säger (13:42):
hehe
maciek säger (13:42):
jag ska FAN lägga in stöd för länkar i alliance tror jag - tänk hur moteverad man kan få en kompis med en länk med nåt fint i som morot
* "jag tror en del av mina polare nog skulle bli nyfikna om man hade lite reklam typ  "XXX DVD - join Alliance"" 1. enkelt att göra reklam för en eller flera grejor man delar ut Pontus säger (10:10): 2. enkelt för dem som ser reklamen att koppla upp sig och tanka
************************************************************************************************************************
hey
auto hashing in Alliance doesn't seem to work
a new friend of mine just downloaded alliance and added a folder
DeathfireD - I need a python programmer [All hail piggy king of bacon] säger (06:20):
Alliance did nothing
so I told him to press the blue icon and it started to hash the files like it should
---
Apparently a few people are noticing that when they view their shared folders they can only see the folders and not
any of the files in the folders. Alliance doesn't seem to be auto hashing the folder(s) when they add it as a share
like it used too. So they have to manually press the rehash button on the bottom right of the client.
---
I think it was since 1.0.4 but I could be wrong. I too have noticed that sometimes when adding a new folder it doesn't get hashed right away. If you press the blue hash button though it will or just wait a bit Alliance will get around to hashing it.
************************************************************************************************************************
intressant om SSL:
Hello, sorry for my english I am german.

There is a small group working in ssl-mode since a few weeks. In ssl-mode
it seems, there are problems with alliance, if the max. upload-speed is set
to high in Alliance (>25 KB/s):

After a few seconds, the ul/dl stops (without closing the connection and
with no automatic restart / resume).

The client gets wrong (corrupted) "parts of a file" after a while.

After one corrupt block is received, all later blocks are also corrupted.
But it seems, that Alliance does not stop ul/dl if blocks are corrupt, but
stay up-/downloading. So it could be, that the dl can reach 100 % (after
hours), but all blocks must/will be send again, after reconnect. To resume
such a "broken" dl/ul the only way is to reconnect the uploader or restart
alliance.

Thank you for reading and thanks for the genial program.
************************************************************************************************************************
"java.io.IOException: Unable to establish loopback connection"

The full error report includes the message "no buffer space available"
which I've come to know and love from other projects as a message that the
application has run out of available network sockets. This causes all other
network related applications (including simple things like my web browser)
to work unpredictably. If I leave Alliance shutdown for long enough the
system will eventually reclaim enough sockets for things to go back to
normal but once I start Alliance back up again it's only about a day or so
before it happens again. It looks to me like, for some reason, Alliance is
leaking sockets. I ran into this problem on a previous version of Alliance,
as well, but didn't report it. Here's the full error report:
************************************************************************************************************************
* får in sjukt mycket concurrent modification errors nu..  denna verkar hända hela tiden:
java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
	at java.util.HashMap$ValueIterator.next(Unknown Source)
	at java.util.AbstractCollection.toArray(Unknown Source)
	at org.alliance.core.node.InvitaitonManager.getMostRecentByGuid(InvitaitonManager.java:112)
	at org.alliance.core.node.InvitaitonManager.hasBeenRecentlyInvited(InvitaitonManager.java:105)
	at org.alliance.ui.addfriendwizard.ForwardInvitationNodesList$ForwardInvitationListModel.<init>(ForwardInvitationNodesList.java:118)
	at org.alliance.ui.MainWindow.handleNeedsUserInteraction(MainWindow.java:624)
	at org.alliance.ui.MainWindow.access$700(MainWindow.java:48)
	at org.alliance.ui.MainWindow$9.run(MainWindow.java:528)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at java.awt.EventDispatchThread.pumpOneEventForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)
och denna:
java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(Unknown Source)
	at java.util.HashMap$ValueIterator.next(Unknown Source)
	at java.util.AbstractCollection.toArray(Unknown Source)
	at java.util.ArrayList.<init>(Unknown Source)
	at org.alliance.ui.windows.UploadsMDIWindow.update(UploadsMDIWindow.java:53)
	at org.alliance.ui.MainWindow$8.run(MainWindow.java:445)
	at java.awt.event.InvocationEvent.dispatch(Unknown Source)
	at java.awt.EventQueue.dispatchEvent(Unknown Source)
	at org.alliance.launchers.ui.PopupFixQueue.dispatchEvent(PopupFixQueue.java:17)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.pumpEvents(Unknown Source)
	at java.awt.EventDispatchThread.run(Unknown Source)
************************************************************************************************************************
I was working on a private LAN of class 10.x.x.x and I discovered, sniffing the traffic, that if you have more than one NIC alliance always chose the IP of the wrong one.
That's unfortunate in this times, when almost every workstation has at least a virtual NIC installed (hamachi, openvpn, vmware...).
I tried to specify an IP in the specific setting field, but I discovered it doesn't save it.
Than I downloaded the source with svn and, with my little programming knowledge, I discovered that:
1 - that field is at the moment ignored
2 - the algorithm used to chose the IP address from many NICs is not very logic (or I'm not able to understand it)
************************************************************************************************************************








Future features:
    * pinsamt enkelt att DOS:a alliance till döds - öppna koppling, skicka 0xffff och sedan 64k av skräp så tar alliance emot det glädjeligen
    * droppa fil på en användare - en lite speciell process i download och uploadconnection. borde inte vara några problem. eller någon annan slags implementation - det hade rockat iaf. Bra om den använder standard downloadförfarandet så man får allt från det. Inget fel att tanka från två heller ifall filen råkar finnas på fler ställen. Det får nog bli att man lägger till en fil i share som är markerad som att den bara får downloadas från en person - sedan skickar man tth nyckeln till denna person

Future:
    * hsql eller liknande verkar najs men det är inte läge för det. Koden i alliance är sjukt optimerad och det är dumt att kanska bort den nu. Kanske i version 2.0 eller så.











sökmotorsoptimering:
Skriv sidan såhär, och styla upp den med css

<html>
<title>Alliance P2P - Safe file sharing</title> <head>
	<link href="style.shtml" type=text/css rel=stylesheet>
	<meta name=”description” content=”Alliance is a private and secure p2p software environment to share files and communicate with people you know.”>
	<meta name=”keywords” content=”alliance, alliancep2p, p2p, file sharing, chat, secure, safe, download”> </head>

<body>
	<h1>Alliance P2P - Safe file sharing</h1>
	<p>Alliance is a private and secure p2p software environment to share files and communicate with people you know.</p>
	<p>It's free. It's easy</p>
	<ol>
		<li>Download and run Alliance</li>
		<li>Invite your coworkers or friends</li>
		<li>Share files and communicate with them!</li>
	</ol>
......
</body>

Skicka sedan in sidan till en massa directories, där du använder title och description taggarna för att beskriva innehållet. Se till att matcha texterna exakt, så får du bättre resultat.

Försök även att utveckla texten på förstasidan, så att du får med fler av dina keywords. Som det är nu får du bara bra träffbild på de ord som finns i title, description, h1, p och a taggarna.

Blir du listad på något open directory, så kommer du att boosta din trafik via google riktigt mycket.


/Tomas

